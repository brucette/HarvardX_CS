<!-- HTML table summarizing, for the user currently logged in,
which stocks the user owns,
the numbers of shares owned,
the current price of each stock,
and the total value of each holding (i.e., shares times price).
Also display the user’s current cash balance along with a grand
total (i.e., stocks’ total value plus cash) -->

{% extends "layout.html" %}

{% block title %}
    Portfolio
{% endblock %}

{% block main %}
            <table>
                <thead>
                    <tr>
                        <th>Stock</th>
                        <th>Number of shares</th>
                        <th>Current stock price</th>
                        <th>Total stock value</th>
                    </tr>
                </thead>
                <tbody>
                {% for item in portfolio %}
                    {{% set current_price = lookup(item.stock) %}}
                    <tr>
                        <td>{{ item.stock }}</td>
                        <td>{{ item.shares }}</td>
                        <td>{{ current_price }}</td>
                        <td>{{ item.shares * current_price }}</td>
                    </tr>
                 {% endfor %}
                </tbody>
            </table>
{% endblock %}